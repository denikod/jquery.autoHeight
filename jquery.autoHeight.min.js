/* auto Height 1.2 - by Denik http://denik.od.ua/ */
!function(t){t.fn.autoHeight=function(e){e=jQuery.extend({item:"",cols:"",plusNested:"",debug:!1},e);return this.each((function(i){var u,a=t(this);if(a.data("data",{}),a.data("debug")&&(e.debug=!0),null!=a.data("item")?u=a.data("item"):""!=e.item?u=e.item:t.each([".item",".entry",".itm","ent"],(function(t,e){a.find(">"+e).length&&(u=">"+e)})),(u=a.find(u)).length){if(""==e.plusNested&&null!=a.data("plusnested")&&(e.plusNested=a.data("plusnested")),o(a,u),void 0!==typeof MutationObserver){new MutationObserver((function(t,e){n(a,u)})).observe(a.get(0),{attributes:!1,childList:!0,subtree:!0})}else a.bind("DOMSubtreeModified",(function(){n(a,u)}));t(window).resize((function(){n(a,u)}))}}));function n(t,e){var i=t.data("data");if(i.lock)return!1;i.lock=!0,i.timeoutId&&clearTimeout(i.timeoutId),i.timeoutId=setTimeout((function(){e.height("auto"),o(t,e),i.lock=!1}),50)}function o(n,o){for(null!=n.data("cols")?cols=n.data("cols"):""!=e.cols?cols=e.cols:cols=Math.floor(n.innerWidth()/o.outerWidth()),e.debug&&console.log("cols: "+cols),i=0;i<=o.length;i+=cols){o.slice(i,i+cols).height((u=o.slice(i,i+cols),Math.max.apply(null,u.map((function(){var i=t(this).height();return""!=e.plusNested&&t(this).find(e.plusNested).each((function(){i+=t(this).height()})),i})))))}var u}},t(document).ready((function(){t("[data-autoHeight]").autoHeight()}))}(jQuery);